<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Compendium</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Garamond:ital,wght@0,400;1,700&display=swap');

        :root {
            --bg: #0a080f;
            --panel: #161320;
            /* Origin Colors */
            --arachnid: #8a0303;     /* Blood Red */
            --merling: #00f2ff;      /* Cyan Blue */
            --blazeborn: #ff7700;    /* Orange */
            --feline: #d2b48c;       /* Light Yellow Brown */
            --enderian: #a200ff;     /* Purple */
            --shulk: #d4a5ff;        /* Lighter Purple */
            --phantom: #708090;      /* Blueish Grey */
            --elytrian: #00a86b;     /* Jade Green */
            --avian: #fffde0;        /* Yellowish White */
        }

        body { 
            font-family: 'Garamond', serif; 
            background: var(--bg); 
            color: #f0e6d2; 
            padding: 40px;
            background-image: radial-gradient(circle at center, #1b1429 0%, #0a080f 100%);
        }

        h1 { 
            text-align: center; 
            font-family: 'Cinzel', serif;
            font-size: 3.8rem; 
            text-shadow: 0 0 25px rgba(224, 163, 255, 0.4); 
            letter-spacing: 8px;
            color: #fff;
            margin-bottom: 60px;
        }

        .origin-section { 
            margin-bottom: 80px; 
            padding: 30px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        h2 { 
            font-family: 'Cinzel', serif;
            text-transform: uppercase; 
            color: #ffcc00; 
            border-bottom: 3px solid #ffcc00;
            display: inline-block;
            padding-bottom: 10px;
            margin-bottom: 45px;
            font-size: 2.2rem;
            letter-spacing: 3px;
        }

        .gallery { 
            display: grid; 
            /* Smaller min-width (180px instead of 240px) makes cards more compact */
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); 
            gap: 25px; 
            padding: 10px;
        }

        .card { 
            background: var(--panel); 
            padding: 20px 15px; /* Reduced padding */
            border-radius: 12px; 
            text-align: center; 
            border: 1.5px solid #2a2438;
            transition: all 0.4s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            /* Height is now flexible based on content rather than forced huge */
            min-height: auto; 
            position: relative;
        }

        /* Shrink the avatar size */
        .card img { 
            width: auto; 
            height: 110px; /* Reduced from 190px/180px */
            image-rendering: pixelated; 
            filter: drop-shadow(0 8px 12px rgba(0,0,0,0.7));
            transition: transform 0.3s ease;
            margin-bottom: 15px;
        }

        .card:hover { transform: translateY(-15px); }
        .card:hover img { transform: scale(1.1); }

        .card h3 { 
            margin: 5px 0 10px 0; 
            font-family: 'Cinzel', serif;
            color: #fff;
            font-size: 1.2rem; /* Slightly smaller text */
            letter-spacing: 1px;
        }

        /* --- THE NEW CLASS BADGE STYLE --- */
        .class-badge {
            font-size: 0.7rem; /* Smaller badge text */
            padding: 4px 12px;
            letter-spacing: 1.5px;
        }

        /* Origin Specific Glows */
        .card.arachnid { border-color: var(--arachnid); }
        .card.arachnid .class-badge { color: #ff9999; border-color: var(--arachnid); box-shadow: 0 0 10px rgba(138, 3, 3, 0.4); }
        .card.arachnid:hover { box-shadow: 0 0 35px var(--arachnid); }

        .card.merling { border-color: var(--merling); }
        .card.merling .class-badge { color: var(--merling); border-color: var(--merling); box-shadow: 0 0 10px rgba(0, 242, 255, 0.3); }
        .card.merling:hover { box-shadow: 0 0 35px var(--merling); }

        .card.blazeborn { border-color: var(--blazeborn); }
        .card.blazeborn .class-badge { color: #ffcc99; border-color: var(--blazeborn); box-shadow: 0 0 10px rgba(255, 119, 0, 0.3); }
        .card.blazeborn:hover { box-shadow: 0 0 35px var(--blazeborn); }

        .card.enderian { border-color: var(--enderian); }
        .card.enderian .class-badge { color: #e0a3ff; border-color: var(--enderian); box-shadow: 0 0 10px rgba(162, 0, 255, 0.3); }
        .card.enderian:hover { box-shadow: 0 0 35px var(--enderian); }

        .card.elytrian { border-color: var(--elytrian); }
        .card.elytrian .class-badge { color: #99ffd6; border-color: var(--elytrian); box-shadow: 0 0 10px rgba(0, 168, 107, 0.3); }
        .card.elytrian:hover { box-shadow: 0 0 35px var(--elytrian); }

        /* Add more specific glows for feline, shulk, phantom, avian as needed using the same pattern */

    </style>
</head>
<body>

    <h1>The Origin Chronicles</h1>
    <div id="container">üìñ Opening the archives...</div>

    <script>
        async function loadGallery() {
            const container = document.getElementById('container');
            try {
                const response = await fetch('all_players_master.json');
                const master = await response.json();
                container.innerHTML = '';

                const origins = {};
                Object.values(master).forEach(p => {
                    const org = (p.origin || 'Human').toLowerCase();
                    if (!origins[org]) origins[org] = [];
                    origins[org].push(p);
                });

                for (const [origin, players] of Object.entries(origins)) {
                    const section = document.createElement('div');
                    section.className = 'origin-section';
                    section.innerHTML = `<h2>‚úß ${origin} ‚úß</h2><div class="gallery" id="gal-${origin}"></div>`;
                    container.appendChild(section);

                    const gal = document.getElementById(`gal-${origin}`);
                    players.forEach(p => {
                        const uuid = p.uuid;
                        const cubeUrl = `https://minotar.net/cube/${uuid}/100.png`;
                        const bodyUrl = `https://minotar.net/body/${uuid}/100.png`;
                        const steveUrl = `https://minotar.net/body/char/100.png`;

                        gal.innerHTML += `
                            <div class="card ${origin.toLowerCase()}">
                                <img src="${cubeUrl}" 
                                     alt="${p.name}"
                                     onerror="if(this.src.includes('cube')){ this.src='${bodyUrl}'; } else if(this.src.includes('body') && !this.src.includes('char')){ this.src='${steveUrl}'; }">
                                <h3>${p.name}</h3>
                                <div class="class-badge">${p.class}</div>
                            </div>
                        `;
                    });
                }
            } catch (err) {
                container.innerHTML = "‚ùå The archives are lost: " + err.message;
            }
        }
        loadGallery();
    </script>
</body>
</html>

